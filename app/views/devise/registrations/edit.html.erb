<%= content_for :title, "My Profile" %>
<div class="content">
  <div class="container-fluid container-fixed-lg">
    <div class="row">
      <div class="col-md-6">
        <!-- START PANEL -->
        <div class="panel panel-default">
          <div class="panel-heading">
            <div class="panel-title">
              My Profile
            </div>
          </div>
          <div class="panel-body">
            <%= simple_form_for(resource, as: resource_name, url: registration_path(resource_name), role: 'form', html: { method: :put }) do |f| %>
            <%= f.error_notification %>
              <div class="row">
                <div class="col-sm-6">
                  <div class="form-group form-group-default required">
                    <label>First name</label>
                    <%= f.input_field :fname, required: false, label: false, class: 'form-control'%>
                    <span class="help-block"><%= @user.errors[:fname].first %></span>
                  </div>
                </div>
                <div class="col-sm-6">
                  <div class="form-group form-group-default required">
                    <label>Last name</label>
                    <%= f.input_field :lname, required: false, label: false, class: 'form-control'%>
                    <span class="help-block"><%= @user.errors[:lname].first %></span>
                  </div>
                </div>
              </div>
              <div class="form-group form-group-default required">
                <label>Email</label>
                <%= f.input_field :email, required: false, label: false, class: 'form-control'%>
                <span class="help-block"><%= @user.errors[:email].first %></span>
                <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
                  <p>Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
                <% end %>
              </div>
              <div class="form-group form-group-default">
                <label>Image</label>
                <p><%= image_tag @user.image.url(:thumb) %></p>
                <label>
                  <%= f.check_box :remove_image %>
                  Remove Image
                </label>
                <%= f.file_field :image, required: false, label: false %>
                <%= f.hidden_field :image_cache %>
              </div>               
              <div class="form-group form-group-default">
                <label>Password</label>
                <%= f.input_field :password, as: :password, autocomplete: "off", hint: "leave it blank if you don't want to change it", required: false, label: false, class: "form-control" %>
                <span class="help-block"><%= @user.errors[:password].first %></span>
              </div>
              <div class="form-group form-group-default">
                <label>Confirm Password</label>
                <%= f.input_field :password_confirmation, as: :password, required: false, label: false, class: "form-control" %>
                <span class="help-block"><%= @user.errors[:password_confirmation].first %></span>
              </div>
              <div class="form-group form-group-default required">
                <label>Current Password</label>
                <%= f.input_field :current_password, as: :password, hint: "we need your current password to confirm your changes", required: false, label: false, class: "form-control" %>
                <span class="help-block"><%= @user.errors[:current_password].first %></span>
              </div>
              <%= f.button :submit, "Update", class: 'btn btn-primary btn-cons' %>
              <%= link_to "Close", root_path, class: 'btn btn-cons' %>
            <% end %>
          </div>
        </div>
        <!-- END PANEL -->
      </div>
    </div>
  </div>
</div>  
